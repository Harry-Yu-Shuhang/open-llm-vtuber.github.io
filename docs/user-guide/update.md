---
sidebar_position: 5
---

# 更新项目

:::warning
如果你的项目版本低于 `v1.0.0`，你必须根据 [快速开始文档](../quick-start.md) 重新部署项目。 `v1.0.0` 更新的部署方式发生了较大的变化，难以直接更新。
:::

## 更新脚本

本项目自带一个更新脚本，在项目目录下，叫做 `upgrade.py`。运行 `uv run upgrade.py` 就可以更新项目了。

目前，更新脚本仅支持更新后端以及 Web 版本。如果你使用 Electron 版本的桌宠，请在使用更新脚本之后，前往 [Open-LLM-VTuber-Web 仓库的 Release 页面](https://github.com/Open-LLM-VTuber/Open-LLM-VTuber-Web/releases) 下载最新版本的桌面版客户端。


### Git

这个运行脚本会使用 Git 来拉取更新内容。在运行更新脚本之前，请确保电脑上有 git。

在命令行中运行这个命令来检查你的电脑上是否有 git。

```bash
git -v
```

如果这个命令显示的是类似下面的文字，说明你的电脑上有 git，并且你已经可以运行更新脚本了。

```text
git version 2.48.1
```

## 一些可能遇到的问题

### 网络问题

中国大陆用户可能会在运行更新脚本时遇到与 GitHub 相关的网络问题。如果遇到带有 `HTTP`, `SSL`, `443` 等关键字的报错信息，请开启代理后再运行更新脚本。


### 更新失败
`v1.1.0` 版本以前的用户有可能会出现因为 stash 无法合并导致更新失败的问题。这个问题在 `v1.1.0` 版本已经修复。

如果你遇到这个问题，下面是一种解决方案。

1. 把 `conf.yaml` 文件从项目中移除 (移动到项目目录之外)
2. 运行更新脚本 `uv run upgrade.py`，升级到 `v1.1.0` 以上的版本。
3. 把你刚刚移除的 `conf.yaml` 文件再移动回来
4. 再次运行更新脚本 `uv run upgrade.py` 用新的更新脚本来更新配置文件 `conf.yaml`。
5. 完成。


